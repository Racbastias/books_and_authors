<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="icon"  type="image/png" href="https://i1.wp.com/crystaljag.com/write-on/wp-content/uploads/2016/01/cropped-favicon512x512-1.png">
    <title>Mind Library</title>

</head>
    <body style="background-image: url(https://wallpaperaccess.com/full/2964938.jpg); background-size:100%; background-repeat:no-repeat">
        <h1 class="fs-1 m-5 text-center text-light"> Welcome to the Lag-brary </h1>
        <div class="row text-center justify-content-center">
            {% load static %}
            <div class="col-3 my-3 mx-5" style="opacity:0.9">
                <form method="POST" action="/add_books" class="row g-3 mx-3">
                    {% csrf_token %}
                    <h2 class="fs-1 text-light">Add a Book</h2>
                    <div class="col-md-6">
                        <label for="title" class="form-label text-light">Title</label>
                        <input type="text" class="form-control" value="" name="title" required>
                    </div>
                    <div class="col-md-6">
                        <label for="description" class="form-label text-light">Desc</label>
                        <input type="text" class="form-control" value="" name="desc" required>
                    </div>
                    <input class="btn btn-primary btn-lg" type="submit" value="Create">
                </form>
                <form method="POST" action="/del_books" class="row g-3 mx-3 my-5">
                    {% csrf_token %}
                    <h2 class="fs-1 text-light">Delete a Book</h2>
                    <div class="col-md-12">
                        <label for="books" class="form-label text-light">Select Book</label>
                        <select class="form-select" aria-label="Default select example" name="book_id"required>
                            <option selected>Open this select menu</option>
                            {% for book in books %} 
                            <option value="{{book.id}}">{{book.id}} - {{book.title}}</option>
                            {% endfor %} 
                        </select>
                    </div>
                    <input class="btn btn-danger btn-lg" type="submit" value="Delete">
                </form>
            </div>

            <div class="col-7 my-3 mx-5" style="opacity:0.8">
                <h2 class="text-light fs-1">Books in Library</h2>
                <table class="table table-light table-hover my-5">
                    <thead>
                        <tr>
                        <th scope="col">#</th>
                        <th scope="col">Title</th>
                        <th scope="col">Author</th>
                        <th scope="col">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for book in books %}
                        <tr>
                        <td>{{book.id}}</td>
                        <td><a href="/books/{{book.id}}">{{book.title}}</a></td>
                        <td>{% for author in book.authors.all %}"{{author.first_name}} {{author.last_name}}" {% endfor %}</td>
                        <td>{{book.desc}}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="row justify-content-center">
                <div class="col-2">
                    <a class="btn btn-warning btn-lg" href="/">Volver</a>
                </div>
            </div>
    </body>
</html>